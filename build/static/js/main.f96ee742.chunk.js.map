{"version":3,"sources":["exercise_2.15/services/persons.js","exercise_2.15/components/Filter.js","exercise_2.15/components/PersonForm.js","exercise_2.15/components/Persons.js","exercise_2.15/components/Notification.js","exercise_2.15/App.js","reportWebVitals.js","index.js"],"names":["baseUrl","axios","get","then","response","data","personObject","post","id","put","delete","Filter","props","filter","onfilterChange","value","onChange","PersonForm","newNumber","newName","handleNameChange","handleNumberChange","onAddPerson","onSubmit","type","Persons","filteredNames","persons","person","name","toLowerCase","includes","displayPersons","map","number","onClick","onDelete","Notification","messageType","category","style","color","borderRadius","fontSize","border","background","padding","marginBottom","message","error","App","useState","setPersons","setName","setNumber","setFilter","errorMessage","setErrorMessage","deletePerson","p","find","window","confirm","personService","returnedObject","useEffect","initialPerson","event","target","preventDefault","messageObject","setTimeout","catch","concat","console","log","status","headers","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f96ee742.chunk.js","sourcesContent":["import axios from 'axios';\r\nconst baseUrl = 'api/persons';\r\n\r\nconst getAll = () => {\r\n\tconst request = axios.get(baseUrl);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst create = (personObject) => {\r\n\tconst request = axios.post(baseUrl, personObject);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, personObject) => {\r\n\tconst request = axios.put(`${baseUrl}/${id}`, personObject);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst deleteRequest = (id) => {\r\n\tconst request = axios.delete(`${baseUrl}/${id}`);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nexport default { getAll, create, update, deleteRequest };\r\n","import React from 'react';\r\n\r\nconst Filter = (props) => {\r\n\tconst { filter, onfilterChange } = props;\r\n\treturn (\r\n\t\t<div>\r\n\t\t\tfilter show with <input value={filter} onChange={onfilterChange} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\nconst PersonForm = (props) => {\r\n\tconst {\r\n\t\tnewNumber,\r\n\t\tnewName,\r\n\t\thandleNameChange,\r\n\t\thandleNumberChange,\r\n\t\tonAddPerson,\r\n\t} = props;\r\n\treturn (\r\n\t\t<form onSubmit={onAddPerson}>\r\n\t\t\t<div>\r\n\t\t\t\t<h2>add a new</h2>\r\n\t\t\t\tname:\r\n\t\t\t\t<input value={newName} onChange={handleNameChange} />\r\n\t\t\t\t<br />\r\n\t\t\t\tnumber:\r\n\t\t\t\t<input value={newNumber} onChange={handleNumberChange} />\r\n\t\t\t</div>\r\n\t\t\t<button type=\"submit\">add</button>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from 'react';\r\nconst Persons = (props) => {\r\n\tlet filteredNames = props.persons;\r\n\tif (props.filter) {\r\n\t\tfilteredNames = props.persons.filter((person) =>\r\n\t\t\tperson.name.toLowerCase().includes(props.filter.toLowerCase())\r\n\t\t);\r\n\t}\r\n\tconst displayPersons = filteredNames.map((person) => (\r\n\t\t<li key={person.name}>\r\n\t\t\t{person.name} {person.number}{' '}\r\n\t\t\t<button onClick={() => props.onDelete(person.id)}>deleted</button>\r\n\t\t</li>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Numbers</h2>\r\n\t\t\t<ul>{displayPersons}</ul>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Persons;\r\n","import React from 'react';\r\nconst Notification = ({ messageType }) => {\r\n\tconst errorStyle = {\r\n\t\tcolor: 'red',\r\n\t\tborderRadius: '5px',\r\n\t\tborder: '2px solid red',\r\n\t\tfontSize: '20px',\r\n\t\tbackground: '#ccc',\r\n\t\tpadding: '10px',\r\n\t\tmarginBottom: '10px',\r\n\t};\r\n\tconst successStyle = {\r\n\t\tcolor: 'green',\r\n\t\tborderRadius: '5px',\r\n\t\tfontSize: '20px',\r\n\t\tborder: '2px solid green',\r\n\t\tbackground: '#ccc',\r\n\t\tpadding: '10px',\r\n\t\tmarginBottom: '10px',\r\n\t};\r\n\tif (messageType === null) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tif (messageType.category === 'success') {\r\n\t\treturn <div style={successStyle}>{messageType.message}</div>;\r\n\t}\r\n\tif (messageType.category === 'error') {\r\n\t\treturn <div style={errorStyle}>{messageType.message.error}</div>;\r\n\t}\r\n\treturn <div></div>;\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useEffect, useState } from 'react';\r\nimport personService from './services/persons';\r\nimport Filter from './components/Filter';\r\nimport PersonForm from './components/PersonForm';\r\nimport Persons from './components/Persons';\r\nimport Notification from './components/Notification';\r\nconst App = () => {\r\n\tconst [persons, setPersons] = useState([]);\r\n\tconst [newName, setName] = useState('');\r\n\tconst [newNumber, setNumber] = useState('');\r\n\tconst [filter, setFilter] = useState('');\r\n\tconst [errorMessage, setErrorMessage] = useState({\r\n\t\tmessage: '',\r\n\t\tcategory: '',\r\n\t});\r\n\r\n\tconst handleNameChange = (event) => setName(event.target.value);\r\n\tconst handleNumberChange = (event) => setNumber(event.target.value);\r\n\tconst handleFilterChange = (event) => setFilter(event.target.value);\r\n\r\n\tconst addPerson = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tlet person = persons.find((person) => person.name === newName);\r\n\t\tif (person) {\r\n\t\t\tif (\r\n\t\t\t\twindow.confirm(\r\n\t\t\t\t\t`${newName} is already added to phonebook, replace the old number with the new one`\r\n\t\t\t\t)\r\n\t\t\t) {\r\n\t\t\t\tconst id = persons.find((person) => person.name === newName).id;\r\n\t\t\t\tconst personObject = {\r\n\t\t\t\t\tname: newName,\r\n\t\t\t\t\tnumber: newNumber,\r\n\t\t\t\t};\r\n\t\t\t\tpersonService\r\n\t\t\t\t\t.update(id, personObject)\r\n\t\t\t\t\t.then((returnedObject) => {\r\n\t\t\t\t\t\tsetPersons(\r\n\t\t\t\t\t\t\tpersons.map((person) =>\r\n\t\t\t\t\t\t\t\tperson.id !== id ? person : returnedObject\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tconst messageObject = {\r\n\t\t\t\t\t\t\tmessage: `Added ${returnedObject.name}`,\r\n\t\t\t\t\t\t\tcategory: 'success',\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tsetErrorMessage(messageObject);\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tsetErrorMessage({ ...errorMessage, message: null });\r\n\t\t\t\t\t\t}, 2000);\r\n\t\t\t\t\t\tsetName('');\r\n\t\t\t\t\t\tsetNumber('');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\tconst messageObject = {\r\n\t\t\t\t\t\t\tmessage: `Information of ${personObject.name} has already taken`,\r\n\r\n\t\t\t\t\t\t\tcategory: 'error',\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tsetErrorMessage(messageObject);\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tsetErrorMessage({ ...errorMessage, message: null });\r\n\t\t\t\t\t\t}, 2000);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconst personObject = {\r\n\t\t\t\tname: newName,\r\n\t\t\t\tnumber: newNumber,\r\n\t\t\t};\r\n\r\n\t\t\tpersonService\r\n\t\t\t\t.create(personObject)\r\n\t\t\t\t.then((returnedObject) => {\r\n\t\t\t\t\tsetPersons(persons.concat(returnedObject));\r\n\t\t\t\t\tconst messageObject = {\r\n\t\t\t\t\t\tmessage: `Added ${newName}`,\r\n\t\t\t\t\t\tcategory: 'success',\r\n\t\t\t\t\t};\r\n\t\t\t\t\tsetErrorMessage(messageObject);\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tsetErrorMessage({ ...errorMessage, message: null });\r\n\t\t\t\t\t}, 2000);\r\n\t\t\t\t\tsetName('');\r\n\t\t\t\t\tsetNumber('');\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t//this is the way to access the error message\r\n\t\t\t\t\tif (error.response) {\r\n\t\t\t\t\t\tconsole.log(error.response.data);\r\n\t\t\t\t\t\tconsole.log(error.response.status);\r\n\t\t\t\t\t\tconsole.log(error.response.headers);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetErrorMessage({\r\n\t\t\t\t\t\t...errorMessage,\r\n\t\t\t\t\t\tmessage: error.response.data,\r\n\t\t\t\t\t\tcategory: 'error',\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst deletePerson = (id) => {\r\n\t\tconst p = persons.find((person) => person.id === id);\r\n\t\tif (window.confirm(`Delete ${p.name} ?`)) {\r\n\t\t\tpersonService.deleteRequest(id).then((returnedObject) => {\r\n\t\t\t\tsetPersons(persons.filter((person) => person.id !== id));\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst fetchedPersons = () => {\r\n\t\treturn personService.getAll().then((initialPerson) => {\r\n\t\t\tsetPersons(initialPerson);\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchedPersons();\r\n\t\treturn () => {\r\n\t\t\tsetPersons({});\r\n\t\t};\r\n\t}, []);\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>Phonebook</h1>\r\n\t\t\t<Notification messageType={errorMessage} />\r\n\t\t\t<Filter\r\n\t\t\t\tonfilterChange={handleFilterChange}\r\n\t\t\t\tfilter={filter}\r\n\t\t\t\tpersons={persons}\r\n\t\t\t\tonDelete={deletePerson}\r\n\t\t\t/>\r\n\r\n\t\t\t<PersonForm\r\n\t\t\t\tnewNumber={newNumber}\r\n\t\t\t\tnewName={newName}\r\n\t\t\t\thandleNameChange={handleNameChange}\r\n\t\t\t\thandleNumberChange={handleNumberChange}\r\n\t\t\t\tonAddPerson={addPerson}\r\n\t\t\t/>\r\n\t\t\t<Persons persons={persons} filter={filter} onDelete={deletePerson} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './exercise_2.15/App';\n\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}